<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/avif" href="https://i.postimg.cc/447QbrCz/ilustracao-de-ball-volly-320979-35.avif">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/447QbrCz/ilustracao-de-ball-volly-320979-35.avif">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>排球計數易 VolleySplit</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

      /* ★ 全螢幕導引圖層樣式 */
      #wechat-guide {
        display: none; /* 預設隱藏 */
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: rgba(15, 23, 42, 0.95); /* 深藍色半透明 */
        z-index: 10000;
        color: white;
        text-align: center;
        padding-top: 100px;
        backdrop-filter: blur(8px);
      }
      .guide-arrow {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 60px;
        animation: bounce 1s infinite;
      }
      @keyframes bounce {
        0%, 100% { transform: translateY(0) translateX(0); }
        50% { transform: translateY(-10px) translateX(10px); }
      }
    </style>

    <script type="importmap">
    {
      "imports": {
        "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
        "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
        "react/": "https://esm.sh/react@^19.2.4/",
        "react": "https://esm.sh/react@^19.2.4"
      }
    }
    </script>
  </head>
  <body>
    <div id="wechat-guide">
      <div class="guide-arrow">↗</div>
      <div class="px-10">
        <h2 class="text-3xl font-black mb-4 tracking-tighter">請點擊右上角</h2>
        <p class="text-lg font-bold text-blue-200 mb-8 opacity-80">選擇『在瀏覽器中開啟』</p>
        <div class="bg-blue-600/30 border border-blue-400/30 rounded-3xl p-6">
          <p class="text-sm leading-relaxed font-medium">
            為了確保數據正常同步與轉帳功能運作，<br/>
            請離開微信內置瀏覽器。
          </p>
        </div>
        <button onclick="document.getElementById('wechat-guide').style.display='none'" class="mt-12 text-slate-400 text-xs underline font-bold uppercase tracking-widest">
          我知道了，繼續瀏覽 (不推薦)
        </button>
      </div>
    </div>

    <div id="root"></div>

    <script>
      window.onload = function() {
        const isWechat = /MicroMessenger/i.test(navigator.userAgent);
        if (isWechat) {
          // 不再彈窗，而是顯示精美的導引圖層
          document.getElementById('wechat-guide').style.display = 'block';
        }
      }
    </script>

    <script type="module" src="/index.tsx"></script>
  </body>
</html>